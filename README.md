# Element Clip - DOM要素コピペツール

WebページからDOM要素を指定して値を抽出し、別のWebページで貼り付けるChrome拡張機能です。

## 主な機能

- 📋 **変数管理**: 複数の変数を自由に追加・編集・削除
- 🎯 **要素選択**: クリックでDOM要素を視覚的に選択
- 📥 **値の抽出**: 指定したCSSセレクタから値を抽出
- 📤 **値の貼り付け**: 抽出した値を別のページに貼り付け
- 💾 **セット管理**: 複数の変数をセットとして保存・管理
- ⚡ **一括操作**: すべての変数を一括で抽出・貼り付け

## インストール方法

### 開発者モードでインストール

1. Chrome ブラウザを開く
2. アドレスバーに `chrome://extensions/` と入力
3. 右上の「デベロッパーモード」を有効化
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. このプロジェクトのフォルダ (`element_clip`) を選択

## 使い方

### 1. 変数を追加

1. Chrome のサイドパネルで「Element Clip」を開く
2. 「新しい変数を追加」ボタンをクリック
3. 変数名を入力（例: ユーザー名）
4. 「要素を選択」ボタンをクリック
5. Webページ上で抽出したい要素をクリック
6. 抽出タイプを選択（value, text, attribute, innerHTML）
7. 「保存」をクリック

### 2. 値を抽出

**個別の変数を抽出:**
- 各変数の「抽出」ボタンをクリック

**すべての変数を一括抽出:**
- 「すべて抽出」ボタンをクリック

### 3. 値を貼り付け

**個別の変数を貼り付け:**
1. 貼り付け先のページを開く
2. 変数の「貼付」ボタンをクリック
3. ページ上で貼り付け先の要素をクリック

**すべての変数を一括貼り付け:**
1. 貼り付け先のページを開く
2. 「すべて貼り付け」ボタンをクリック
3. 各変数に設定されたセレクタに自動的に貼り付け

### 4. セットを保存

1. 変数を抽出後、「すべて保存」ボタンをクリック
2. セット名を入力（例: プロフィールデータ 2025/12/11）
3. 「保存」をクリック

### 5. セットを読み込み

1. 保存済みセット一覧から読み込みたいセットの「読込」ボタンをクリック
2. 現在の変数の値が上書きされます

## データ抽出タイプ

- **value**: input、textarea、selectなどのvalue属性を抽出
- **text**: 要素のテキスト内容を抽出
- **attribute**: 指定した属性値を抽出（例: href, src など）
- **innerHTML**: 要素のHTML内容を抽出

## テスト

テストコードを実行するには、`tests/test-runner.html` をブラウザで開いてください。

```
file:///d:/ProjectS/Program/anti_demo/element_clip/tests/test-runner.html
```

すべてのユーティリティ関数の動作を確認できます。

## プロジェクト構造

```
element_clip/
├── manifest.json          # Chrome拡張機能のマニフェスト
├── background.js          # バックグラウンドスクリプト
├── content.js             # コンテンツスクリプト（Webページに注入）
├── utils.js               # 共通ユーティリティ関数
├── sidepanel.html         # サイドパネルUI
├── sidepanel.js           # サイドパネルのロジック
├── sidepanel.css          # サイドパネルのスタイル
├── icons/                 # アイコン画像
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
├── tests/                 # テストコード
│   ├── test-runner.html
│   └── utils.test.js
└── README.md              # このファイル
```

## 技術スタック

- **Manifest Version**: V3
- **言語**: JavaScript (ES6+)
- **スタイリング**: Vanilla CSS
- **ストレージ**: Chrome Storage API
- **UI**: Chrome Side Panel API

## セキュリティとプライバシー

- 最小限の権限のみを要求
- ユーザーデータはローカルストレージにのみ保存
- 外部サーバーへのデータ送信なし
- オープンソースで透明性を確保

## トラブルシューティング

### 要素が選択できない

- ページが完全に読み込まれてから操作してください
- iframeの中の要素は選択できません
- 一部の動的に生成される要素は選択できない場合があります

### 値が抽出できない

- CSSセレクタが正しいか確認してください
- 抽出タイプ（value/text/attribute）が適切か確認してください
- ページの構造が変更されている可能性があります

### 貼り付けができない

- 貼り付け先の要素がinput/textarea等の編集可能な要素か確認してください
- CSSセレクタが正しいか確認してください
- JavaScriptで制御されているフォームの場合、正常に動作しない可能性があります

## ライセンス

MIT License

## 作成者

Antigravity AI Assistant

## バージョン履歴

- **1.0.0** (2025-12-11): 初回リリース
  - 変数管理機能
  - 値の抽出・貼り付け機能
  - セット管理機能
  - テストコード
